# C. Проблемы с цветами (40 баллов)

На недавно колонизированной людьми планете RG189733b условия почти такие же, как на Земле, кроме одного обстоятельства — пыльца местных растений влияет на зрительную кору головного мозга человека так, что разные цвета воспринимаются с разной задержкой. Этот эффект чуть-чуть сводит с ума неподготовленных колонистов, поэтому нейробиологи написали программу для виртуальной реальности, которая имитирует действие пыльцы. Пока земляне летят к планете RG189733b, они каждый день проводят в виртуальной реальности по несколько часов, чтобы привыкнуть к будущим условиям жизни.

К сожалению, нейробиологи — не программисты, поэтому их программа работает очень медленно. Нужно оптимизировать программу, чтобы помочь колонистам в адаптации.

У вас есть исходный код функции, которая принимает на вход два аргумента:

```
data — UInt8ClampedArray с битмапом кадра (каждые 4 байта - один пиксель в формате rgba),
api — специальный API с методами:
getDimensions возвращает объект с размерами кадра,
getTime возвращает текущее время в миллисекундах.
```

Функция возвращает `Promise` с массивом типа `UInt8ClampedArray` пикселей картинки-результата.
Нужно ускорить эту функцию, не изменяя её сигнатуру и не сломав возвращаемый ею результат.

## Примечания
Если решение слишком медленное, то результатом теста будет TL (Time Limit) или неполный балл за тест.
В архиве по ссылке «скачать условие задачи» вы найдёте исходный код функции и страницу, которую можно использовать для отладки.

[Скачать условие задачи](https://contest.yandex.ru/yacup_fe/contest/20977/download/C/)